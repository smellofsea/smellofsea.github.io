---
layout:     post                    # 使用的布局（不需要改）
title:       进程通信              # 标题 
subtitle:                           #副标题
date:       2020-11-11              # 时间
author:     smellofsea            # 作者
header-img:       #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    操作系统
---

# 进程通信
进程之间的信息交换：由于进程的互斥与同步，需要在进程间交换一定的信息，把他们归为进程通信。  
但是只是低级进程通信：
- 效率低，生产者每次只能向缓冲池投放一个产品，消费者每次只能从缓冲区取得一个信息。
- 通信对用户不透明。
进程之间传送大量数据时，应当利用OS提供的高级通信工具。
- 使用方便。
- 高效地传送大量数据。
# 进程通信的类型
- 共享存储器系统
- 管道通信系统
- 消息传递系统
- 客户机-服务器系统
## 共享存储器系统
相互通信的进程共享某些数据结构或共享存储区，进程之间能够通过这些空间进行通信。可以分为两类：
- 基于共享数据结构的通信方式
- 基于共享存储区的通信方式
## 管道(pipe)通信系统
**管道**：用于连接一个读进程和一个写进程来实现它们之间通信的一个共享文件，又名pipe文件。  
为了协调双方的通信，管道机制必须提供三方面的协调能力：
- 互斥：一个进程对pipe操作时，其他进程要等待。
- 同步
- 确定对方是否存在
## 消息传递系统
该机制不借助共享存储区或数据结构，而是以格式化的消息为单位，将通信的数据封装在消息中，利用OS的一组通信命令，在进程间进行消息传递，完成数据交换。**属于高级通信方式。**  
可以分为两类：  
1、直接通信方式：发送进程利用OS的发送原语，直接把消息发送给目标进程。  
2、间接通信方式：发送和接受进程通过共享中间实体（邮箱）进行通信。
## 客户机-服务器系统
1、套接字：  
- 基于文件型：通信进程在同一台机器。类似于管道。
- 基于网络型：发送进程申请一个套接字，主机分配一个端口与该套接字绑定。接受进程拥有全局公认的套接字和指定的端口，一旦收到请求就接受来自客户端的连接，完成连接。  

2、远程函数调用和远程方法调用：  
本地进程调用远程进程时，实际是调用与该过程关联的存根。客户端服务端都有一个存根。  
存根将本地进程提供的远程过程调用参数等信息构建成一个消息，由本地客户进程通过网络传递给远程服务端进程；服务端的存根拆开消息，调用对象的远程进程，再将消息打包发回客户端。  
   
# 消息传递通信的实现方式
## 直接消息传递系统
1、直接通信原语
- 对称寻址方式：发送进程和接收进程以显式方式提供对方的标识符。  
send（receiver，meaasge）;receive(secder,message);
- 非对称寻址方式：接收进程的原语不需要命名发送进程，只需要填写表示源进程的参数。  
send(P,message);receive(id,message);








