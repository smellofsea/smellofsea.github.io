---
layout:     post   				    # 使用的布局（不需要改）
title:      进程管理 				    # 标题 
subtitle:                     #副标题
date:       2020-10-14 				# 时间
author:     smellofsea 						# 作者
header-img:            	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 操作系统
---

# 进程描述与控制
## 前驱图和程序执行
### 前驱图
前驱图是指一个有向无循环图，可记为DAG，用于描述进程之间执行的先后顺序。
### 程序顺序执行
#### 特征：
1、顺序性：指处处理机严格按照程序所规定的顺序执行，即每个操作必须在下一个操作开始之前结束。
2、封闭性：值程序在封闭的环境下运行，即程序运行时独占全机资源，资源的状态（除初始状态除外）只有本程序才能改变。程序一旦开始执行其执行结果不受外界因素影响。
3、可再现性：指只要程序执行时的环境和初始环境相同，当程序重复执行时，不论它是从头到尾不停顿地执行还是停停走走的执行，都可获得相同的结果。
### 程序并发执行
系统引用多道程序技术，使程序或程序段能并发执行。但是只有不存在前驱关系的程序之间才有可能并发执行。
#### 特征
（1）间断性：程序在并发执行是，由于它们共享系统资源，以及完成统一任务而相互合作，致使在这些并发执行的程序之间形成了相互制约的关系。

（2）失去封闭性。

（3）不可再现性

## 进程的描述
### 进程的定义
为了使参与并发执行的每个程序都能独立的运行，在操作系统中为之配置一个专门的数据结构，称为进程控制块PCB。
系统利用PCB来描述进程的基本情况和活动过程，进而控制进程。
有程序段、相关的数据段和PCB三部分构成**进程实体**（又称为进程影像）简称为**进程**。**所谓创建进程实际上使创建进程实体的PCB，而撤销进程实质上就是撤销进程的PCB。

**进程的定义：**

（1）进程是程序的一次执行

（2）进程是一个程序及其数据在处理机上顺序执行时所发生的活动。

（3）进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位。

### 进程的特征
（1）动态性：1、进程的实质是进程实体的执行过程。2、它由创建而产生，由调度而执行、由撤销而消亡。进程实体是由一定的生命周期。  
（2）并发性：多个进程实体同存于内存中，且能同时运行。  
（3）独立性：进程实体是一个能独立运行、独立获得资源和独立接受调度的基本单位。  
（4）异步性：按各自的独立的、不可预知的速度向前推进。
### 进程的基本状态及转换
 #### 进程的基本状态：
 就绪状态：进程已获得准备好运行的状态，即进程已分配到除CPU以外的所有必要资源后，只要再获得CPU便可立即执行。许多个就绪状态的进程按一定的策略（如优先级）排成一个队列，称该队列为就绪队列。  
 执行状态：进程以获得CPU，其程序正在执行的状态。  
 阻塞状态：正在执行的程序由于发生某件事，暂时无法继续执行时的状态，此时引起进程调度，OS把处理及分配给另一个就绪进程，受阻进程处于暂停状态，成为**阻塞状态**。
 #### 三种基本状态的转换
 #### 创建状态和终止状态
 创建状态：  
 首先由进程申请一个空白PCB，并向PCB中填写用于控制和管理进程的信息  
 然后为该进程分配运行时所需的资源  
 最后把该进程转入就绪状态并插入就绪队列中。  
 如果进程所需的资源不能得到满足，创建工作尚未完成，此时进程所处的状态为创建状态。  
 **创建状态的进程，当其获得所需要的资源以及对其PCB的初始化工作完成后便可转入就绪状态**  
 终止状态：  
 进程的终止也要通过两个步骤  
 首先，等待操作系统进行善后处理。  
 最后将其PCB清零，并将PCB空间返还系统。
 ### 挂起操作和进程状态的转换
 **挂起操作**作用于某个进程时，该进程将被挂起，意味着该进程处于静止状态。
 #### 引起挂起操作的原因
 - 终端用户的需要 
 - 父进程请求
 - 负荷调节的需要
 - 操作系统的需要
 #### 引入挂起原语操作后三个进程状态的转换
 - 活动就绪->静止就绪
 - 活动阻塞-> 静止阻塞
 - 静止就绪->活动就绪
 - 静止阻塞->活动阻塞

### 进程管理中的数据结构
为了便于对计算机中的各类资源的使用和管理，OS将它们抽象为相应的数据结构，以及提供一组对资源进行操作的命令。  
#### 操作系统中用于管理程序的数据结构
OS管理的数据结构一般分为四类：内存表、设备表、文件表和用于进程管理的进程表。进程表就是PCB。
#### PCB的作用
- 作为进程存在的唯一的标志
- 能实现间断性运动方式：系统可以将CPU现场信息保存在被中断的PCB中，再次被调度时恢复CPU现场。
- 提供进程管理所需的信息：OS根据PCB对进程控制管理
- 提供进程调度所需要的信息
- 实现与其他进程的同步：在PCB中具有实现进程通信的区域或通信队列的指针。
#### 进程控制块中的信息
- 进程标识符
- 处理机状态
- 进程调度信息：进程状态、进程优先级、进程调度所需的其他信息、事件
- 进程控制信息：程序和数据地址、进程同步和通信机制、资源清单、链接指针
#### PCB的组织方式
- 线性方式
- 链接方式
- 索引方式
## 进程控制
进程控制时进程管理中最基本的功能
### OS内核
一般把OS划分为若干层次，不同功能设置在不同层次。  
把一些与硬件紧密相关的模块、各种常用设备的驱动程序、运行频率高的模块，安排在紧靠硬件的软件层面，常驻内存，被称为**OS内核**。  
处理机的执行状态分为系统态和用户态  
#### 内核功能
- 支撑功能：中断处理、时钟管理、原语操作
- 资源管理功能：进程管理、存储器管理、设备管理
### 进程的创建
#### 进程的层次结构
一个进程创建另一个进程，创建的进程成为父进程，被创建的进程为子进程。UNIX中，进程与其子孙进程共同组成一个进程家族。Windows中不存在任何进程层次结构，而是通过句柄来控制被创建进程。


 
 
 
